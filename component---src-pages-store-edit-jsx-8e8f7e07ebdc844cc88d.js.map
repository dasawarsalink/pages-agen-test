{"version":3,"file":"component---src-pages-store-edit-jsx-8e8f7e07ebdc844cc88d.js","mappings":"4RAmBMA,GAAOC,EAAAA,EAAAA,IAPE,SAAAC,GAAK,MAAK,CACrBC,KAAM,CACFC,QAAS,OACTC,WAAY,aAIPJ,EAAmB,YAAiB,EAAdK,QAAe,IACxCC,GAAOC,EAAAA,EAAAA,KACPC,GAAQC,EAAAA,EAAAA,GAAWH,GAAQA,EAAKI,SAASF,OAAS,sBACxD,EAA0BG,EAAAA,SAAe,IAAlCC,EAAP,KAAcC,EAAd,KACA,EAAwBF,EAAAA,SAAe,IAAhCG,EAAP,KAAaC,EAAb,KACA,EAAwBJ,EAAAA,SAAe,MAAhCK,EAAP,KAAaC,EAAb,KAEAN,EAAAA,WAAgB,WACA,IAAD,EAAPH,IACAK,EAASL,EAAMU,KAAKN,OAAS,IAC7BG,EAAQP,EAAMU,KAAKJ,MAAQ,IAC3BG,EAAO,UAACT,EAAMU,KAAKF,YAAZ,aAAC,EAAiBG,OAE9B,CAACX,IAEJ,IAAMY,EAAO,WACTC,EAAAA,EAAAA,KAAU,sBAAuB,CAC7BL,KAAAA,EACAF,KAAAA,EACAF,MAAAA,IACDU,MAAK,WACJC,MAAM,sBACNC,EAAAA,EAAAA,UAAS,cACVC,OAAM,SAAAC,GAAM,IAAD,EACVH,OAAM,UAAAG,EAAEC,gBAAF,eAAYT,KAAKU,UAAWF,EAAEE,aAG5C,OACI,gCACI,gBAAC,IAAD,MACA,gBAAC,IAAD,CAAOV,KAAMZ,IACR,kBACG,gBAAC,IAAD,KACI,gBAAC,IAAD,KACI,gBAAC,IAAD,KACI,gBAAC,EAAAuB,KAAD,CAAMC,MAAM,UAAUC,GAAG,WAAzB,aAGA,gBAAC,IAAD,CAAYD,MAAM,eAAlB,kBAGR,gBAAC,IAAD,KACI,gBAAC,IAAD,CAAaE,WAAS,GAClB,gBAAC,IAAD,CAAWC,MAAM,YAAYC,QAAQ,WAAWC,MAAOvB,EAAOwB,SAAU,SAACC,GAAD,OAAOxB,EAASwB,EAAEC,OAAOH,YAGzG,gBAAC,IAAD,KACI,gBAAC,IAAD,CAAaH,WAAS,GAClB,gBAAC,IAAD,CAAWO,WAAS,EAACC,QAAS,EAAGP,MAAM,iBAAiBC,QAAQ,WAAWC,MAAOrB,EAAMsB,SAAU,SAACC,GAAD,OAAOtB,EAAQsB,EAAEC,OAAOH,YAGlI,gBAAC,IAAD,KACI,gBAAC,IAAD,CAAcM,QAAQ,SACtB,gBAAC,IAAD,CAAKC,SAAU,IACf,gBAAC,IAAD,CAAYP,MAAOnB,EAAMoB,SAAUnB,KAEvC,gBAAC,IAAD,KACI,gBAAC,IAAD,CAAKyB,SAAU,IACf,gBAAC,IAAD,CAAQC,QAASvB,EAAMwB,UAAYhC,EAAQkB,MAAM,UAAUI,QAAQ,aAAnE,mBAW5B","sources":["webpack://mainagen/./src/pages/store/edit.jsx"],"sourcesContent":["import * as React from \"react\";\nimport { useUserInfo } from \"shared/components/save\";\nimport Defer from \"shared/components/ui/Defer\";\nimport ajax, { useFetcher } from 'shared/components/ajax';\nimport Navbar from \"shared/components/ui/Navbar\";\nimport { Box, Breadcrumbs, Button, FormControl, List, ListItem, ListItemText, TextField, Typography, withStyles } from \"@material-ui/core\";\nimport { Link, navigate } from \"gatsby\";\nimport MediaInput from \"shared/components/ui/MediaInput\";\n\n/**\n * @type {import(\"@material-ui/core/styles/withStyles\").Styles<any, any>}\n */\nconst styles = theme => ({\n    head: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n});\n\nconst Page = withStyles(styles)(({ classes }) => {\n    const user = useUserInfo();\n    const store = useFetcher(user && user.features.store && '/market/store/info');\n    const [title, setTitle] = React.useState('');\n    const [desc, setDesc] = React.useState('');\n    const [logo, setLogo] = React.useState(null);\n\n    React.useEffect(() => {\n        if (store) {\n            setTitle(store.data.title || '');\n            setDesc(store.data.desc || '');\n            setLogo(store.data.logo?.id);\n        }\n    }, [store]);\n\n    const save = () => {\n        ajax.post('/market/store/info/', {\n            logo,\n            desc,\n            title\n        }).then(() => {\n            alert('Berhasil disimpan');\n            navigate('/store/');\n        }).catch(x => {\n            alert(x.response?.data.message || x.message);\n        });\n    }\n    return (\n        <>\n            <Navbar />\n            <Defer data={user}>\n                {() => (\n                    <List>\n                        <ListItem>\n                            <Breadcrumbs>\n                                <Link color=\"inherit\" to=\"/store/\">\n                                    Atur Toko\n                                </Link>\n                                <Typography color=\"textPrimary\">Edit Biodata</Typography>\n                            </Breadcrumbs>\n                        </ListItem>\n                        <ListItem>\n                            <FormControl fullWidth>\n                                <TextField label=\"Nama Toko\" variant=\"outlined\" value={title} onChange={(e) => setTitle(e.target.value)} />\n                            </FormControl>\n                        </ListItem>\n                        <ListItem>\n                            <FormControl fullWidth>\n                                <TextField multiline minRows={3} label=\"Deskripsi Toko\" variant=\"outlined\" value={desc} onChange={(e) => setDesc(e.target.value)} />\n                            </FormControl>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemText primary=\"Logo\" />\n                            <Box flexGrow={1} />\n                            <MediaInput value={logo} onChange={setLogo} />\n                        </ListItem>\n                        <ListItem>\n                            <Box flexGrow={1} />\n                            <Button onClick={save} disabled={!(title)} color=\"primary\" variant=\"contained\">\n                                Simpan\n                            </Button>\n                        </ListItem>\n                    </List>\n                )}\n            </Defer>\n        </>\n    );\n});\n\nexport default Page;\n"],"names":["Page","withStyles","theme","head","display","alignItems","classes","user","useUserInfo","store","useFetcher","features","React","title","setTitle","desc","setDesc","logo","setLogo","data","id","save","ajax","then","alert","navigate","catch","x","response","message","Link","color","to","fullWidth","label","variant","value","onChange","e","target","multiline","minRows","primary","flexGrow","onClick","disabled"],"sourceRoot":""}